<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Looping an Animation with jQuery</title>
<script type="text/javascript" src="js/jquery-1.3.1.min.js" ></script>
<script type="text/javascript" src="js/jquery.timers-1.1.2.js" ></script>

<script type="text/javascript">
	$(document).ready(function(){
		$(window ).resize(function() {			
			$("#shoot").stop(true).stopTime();
			$('#stop')[0].disabled=true;
		});
		
		var ballSpeed = $(window).width() / 1500*1000;
		var distFromPin = "";						 
		$("#start").click(function(){
			$("#shoot").everyTime(10, function(){						 
				$("#shoot").animate({left:"100%"}, ballSpeed).animate({left:"10px"}, ballSpeed);	
			});

			setTimeout(function (){
				$('#stop').removeAttr('disabled');
			},2000);
		});
		$("#stop").click(function(){
			$("#shoot").stop(true).stopTime();
			$('#stop')[0].disabled=true;

			var ballLocation = $('#shoot').offset().left+39;
			console.log(ballLocation);
			var flagLocation = $('.flagPole').offset().left;
			console.log(flagLocation);
			distFromPin = Math.abs(ballLocation-flagLocation);
			console.log(distFromPin);
		});

			

	});
</script>
<style type="text/css">
body{
	margin:0;
	padding:0;
	text-align:center;
}

/*#wrap{
	width:980px;
	min-height:500px;
	margin:50px auto;
	text-align:left;
}*/

.container{
	padding-right:78px;
	min-height:300px;

}


.ballHolder{
	
	/*height:200px;*/
	margin:50px 0;

}

.btn_stop{
	width:140px;
	height:100px;
	padding:100px 0 0 30px;
	background-color:orange;
	border-radius: 50px 0 50px 0px;
	margin-left: 10px;
	float:left;
	clear:left;
}

#start{
	width:100px;
	margin:0 0 10px 0;
}

#stop{
	width:100px;
}

#shoot{
	width:78px;
	height:78px;
	position:relative;
	top:-7px;
}
</style>

</head>

<body>

<div id="wrap">
	<h1>Created to simulate ball distances that will be generated by launch detection and stored in database.</h1>
	<div class="container">
		<div class="ballHolder">
				 <div id="shoot"><img src="images/Golf Ball.png" /></div>
		 </div>
		 <div class= "flag">
		 	<img class= "flagPole" src="images/flag.png"/>		 	
		 </div>

	 <h3>Push start and then try to stop on center pin by pushing stop</h3>  
		   <div class="btn_stop">
				  <button id="start">Start</button>
				  <button id="stop" disabled="">Stop</button>                  
		   </div>

	 </div>  

</div>

</body>
</html>